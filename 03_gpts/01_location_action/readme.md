# Location GPT

To improve documentation read this:

https://www.linode.com/docs/guides/documenting-a-fastapi-app-with-openapi/

Start Uvicorn with the command line:
    
    uvicorn location:app --reload

Open in Browser:

    http://127.0.0.1:8000/location/zia

Install Ngrok:

https://ngrok.com/docs/getting-started/

Run the following command to add your authtoken to the default ngrok.yml:

    ngrok config add-authtoken -> this can be find on ngrok after signup

Deploy with your static domain:

    ngrok http --domain=generally-modest-dolphin.ngrok-free.app 8000

Open in Browser:

    https://generally-modest-dolphin.ngrok-free.app/location/zia


Open Docs in Browser:

    https://generally-modest-dolphin.ngrok-free.app/docs

Open OpenAPI specs in Browser:

    https://generally-modest-dolphin.ngrok-free.app/openapi.json

Now we will use this json to create GPT Action.

Note: 
   * There is a problem to use directly 
   * We will use it with  edge server of ngrok by creating 
     * New Edge and start tunnel

Now start your server as :

    ngrok tunnel --label edge=edghts_2c6zyb5bX6f11CjxN94nAxVX9Yz http://localhost:8000
     

Now create a Custom GPT here:

    https://chat.openai.com/gpts

Add the following server url in the openapi.json file generated by FastAPI and paste it into action schema:

    "servers": [
        {
        "url": "https://generally-modest-dolphin.ngrok-free.app/"
        }
    ],

We can also add above server to fast api as:

```python
    app : FastAPI = FastAPI(
        titile="Location with DB",
        description="Get the Location of the user",
        version="1.0.0",
        servers=[
            # By default first server automatically selected by fastapi
            # you have to select edge server to run api on gpt
            {
                "url": "http://localhost:8000",
                "description": "Development server"
            },
            {
                "url": "https://generally-modest-dolphin.ngrok-free.app/",
                "description": "Production ngrok server for gpts server"
                
            }
        ]
    )
```

Perform all CRUD operations in `with_db.py` file


